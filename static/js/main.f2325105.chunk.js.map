{"version":3,"sources":["lib/Array.ts","lib/Promise.ts","lib/Subject.ts","data/Tiles.ts","data/Bridges.ts","data/Cards.ts","data/DotTiles.ts","data/Player.ts","services/GameService.ts","AppContext.ts","Deck.tsx","Dialog.tsx","EndGame.tsx","Players.tsx","PlayerPicker.tsx","TurnDisplay.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["range","start","stop","step","items","item","push","wait","timeInMs","Promise","resolve","setTimeout","Subject","_value","_observers","this","next","bind","nextValue","forEach","h","observer","unsubscribe","filter","o","useSubject","subject","getter","x","useState","value","state","setState","propState","setPropState","useEffect","subscribe","setter","nextPropertyValue","getterString","toString","propertyMatch","getterPropertyRegex","exec","Error","properties","split","p","trim","nextState","length","createShallowClone","currentStateProp","currentCloneStateProp","property","index","JSON","stringify","source","clone","Array","isArray","Object","create","getPrototypeOf","createEmptyClone","getOwnPropertyNames","propertyDescriptor","getOwnPropertyDescriptor","defineProperty","tiles","type","y","bridges","Map","characterCards","colorCards","colorCardsCount","doubleColorCardsCount","dotTiles","Set","playerOptions","map","color","name","toLowerCase","GameService","save","createNewSave","tilesToSearch","tile","currentSave","players","turn","player","card","drawCard","lastCard","isDouble","startsWith","replace","currentPlayerTile","position","includes","slice","indexOf","has","getNextTile","newPosition","path","get","animateToTile","playerIndex","backwards","pop","lastMove","className","id","substring","toUpperCase","i","randomIndex","Math","round","random","temp","shuffle","concat","deck","createDeck","createPlayer","find","defaultAppContext","gameService","AppContext","createContext","Deck","useContext","s","onClick","takeTurn","Dialog","content","EndGame","startNewGame","Players","orderedPlayers","nextTile","style","left","top","PlayerPicker","setPlayers","gameState","setGameState","setPlayer","partialPlayer","onChange","event","currentTarget","playerOption","e","every","TurnDisplay","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f2325105.chunk.js","sourcesContent":["/** Use the Fisher-Yates shuffle algorithm (with Knuth's improvement) to shuffle an array. */\nexport function shuffle<T>(items: T[]): T[] {\n\titems = items.map(x => x);\n\n\tfor (let i = items.length - 1; i > 1; --i) {\n\t\tconst randomIndex = Math.round(Math.random() * i);\n\t\tconst temp = items[i];\n\t\titems[i] = items[randomIndex];\n\t\titems[randomIndex] = temp;\n\t}\n\n\treturn items;\n}\n\n/** Create an array going from a starting number (inclusive) to an ending number (exclusive). */\nexport function range(stop: number): number[];\nexport function range(start: number, stop?: number, step?: number): number[];\nexport function range(start: number, stop?: number, step?: number): number[] {\n\tif (stop == null) {\n\t\tstop = start;\n\t\tstart = 0;\n\t}\n\n\tif (step == null) {\n\t\tstep = (stop > start) ? 1 : -1;\n\t}\n\n\tif (step === 0 || (step > 0 && stop < start) || (step < 0 && stop > start)) {\n\t\treturn [];\n\t}\n\n\tconst items: number[] = [];\n\tfor (let item = start; (step > 0) ? item < stop : item > stop; item += step) {\n\t\titems.push(item);\n\t}\n\n\treturn items;\n}","/** Creates a promise that waits the provided @see timeInMs before resolving. */\nexport function wait(timeInMs: number): Promise<void> {\n\treturn new Promise(resolve => {\n\t\tsetTimeout(() => resolve(), timeInMs)\n\t});\n}","import { useState, useEffect } from 'react';\n\n/** Function to handle value changes of an observable object. */\nexport type Observer<T> = (nextValue: T) => void;\n\n/** Subject that can be observed by one or more @see Observer for changes in its value. */\nexport class Subject<T> {\n\t/** Initial value , then last value provided to @see next */\n\tget value(): T {\n\t\treturn this._value;\n\t}\n\n\t/** Used to track each @see Observer to notify them of changes. */\n\tprotected _observers: Observer<T>[] = [];\n\n\tconstructor(\n\t\t/** Current value of this @see Subject. */\n\t\tprotected _value: T\n\t) {\n\t\tthis.next = this.next.bind(this);\n\t}\n\n\t/** Notify each @see Observer of the next value. */\n\tnext(nextValue: T): void {\n\t\tthis._value = nextValue;\n\t\tthis._observers.forEach(h => h(nextValue));\n\t}\n\n\t/** Subscribe a new @see Observer to notify it of changes. */\n\tsubscribe(observer: Observer<T>): () => void {\n\t\tthis._observers.push(observer);\n\n\t\treturn () => this.unsubscribe(observer);\n\t}\n\n\t/** Unsubscribe an @see Observer to stop notifing it of changes. */\n\tunsubscribe(observer: Observer<T>): void {\n\t\tthis._observers = this._observers.filter(o => o === observer);\n\t}\n}\n\n/**\n * React hook used to manage the value a @see Subject.\n * @returns Tuple containing the current/last value and a value setter.\n */\nexport function useSubject<T>(subject: Subject<T>): [ T, (nextValue: T) => void ];\nexport function useSubject<T, R>(subject: Subject<T>, getter: (item: T) => R): [ R, (nextValue: R) => void ];\nexport function useSubject<T, R>(\n\tsubject: Subject<T>,\n\tgetter: (item: T) => R = x => x as any\n): [ R, (nextValue: R) => void ] {\n\tconst [ state, setState ] = useState(subject.value);\n\n\t// TODO: useReducer instead of useState followed by useEffect?\n\tconst [ propState, setPropState ] = useState(getter(state));\n\tuseEffect(() => {\n\t\tsetPropState(getter(state));\n\t}, [ getter, state, setPropState ]);\n\n\tuseEffect(() => {\n\t\tconst observer = (nextValue: T) => setState(nextValue);\n\t\tsubject.subscribe(observer);\n\t\treturn () => subject.unsubscribe(observer);\n\t}, [ subject ]);\n\n\tconst setter = (nextPropertyValue: R) => {\n\t\tconst getterString = getter.toString();\n\t\tconst propertyMatch = getterPropertyRegex.exec(getterString);\n\t\tif (propertyMatch != null) {\n\t\t\tconst properties = (propertyMatch[2] || propertyMatch[4]).split(/\\??\\./).filter(p => p.trim() !== '');\n\t\t\tconst nextState = (\n\t\t\t\t(properties.length)\n\t\t\t\t? createShallowClone(subject.value) as T\n\t\t\t\t: nextPropertyValue as any\n\t\t\t);\n\n\t\t\t// TODO: move logic into a new `cloneSet(object, value, properties)` function\n\t\t\tlet currentStateProp = state;\n\t\t\tlet currentCloneStateProp = nextState;\n\t\t\tproperties.forEach((property, index) => {\n\t\t\t\tif (currentStateProp == null || currentCloneStateProp == null) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`null reference exception while trying to access x${propertyMatch[2]} on object:\\n`\n\t\t\t\t\t\t+ JSON.stringify(state)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t(currentCloneStateProp as any)[property] = (\n\t\t\t\t\t(index === properties.length - 1)\n\t\t\t\t\t? nextPropertyValue\n\t\t\t\t\t: createShallowClone((currentStateProp as any)[property])\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tsubject.next(nextState);\n\t\t} else {\n\t\t\tthrow new Error(\n\t\t\t\t'`getter` argument of `useSubject` must be a simple property getter (e.g. `x => x.user.name`)'\n\t\t\t\t+ ' in order for setter to work. Received:\\n' + getterString\n\t\t\t);\n\t\t}\n\t};\n\n\treturn [ propState, setter ];\n}\n\nconst getterPropertyRegex = /^\\s*\\(?(\\w+)\\)?\\s*=>\\s*\\1((?:\\??\\.\\w+)*);?\\s*$|^\\s*function\\s*\\((\\w+)\\)\\s*{\\s*return\\s+\\3((?:\\??\\.\\w+)*);?\\s*}\\s*$/;\n\nfunction createEmptyClone<T>(source: T): T {\n\tif (Array.isArray(source)) {\n\t\treturn [] as any;\n\t} else if (source != null && typeof source === 'object') {\n\t\treturn Object.create(Object.getPrototypeOf(source));\n\t}\n\n\treturn source;\n}\n\nfunction createShallowClone<T>(source: T): T {\n\tconst clone = createEmptyClone(source);\n\n\tif (source != null && typeof source === 'object') {\n\t\tObject.getOwnPropertyNames(source).forEach(property => {\n\t\t\tconst propertyDescriptor = Object.getOwnPropertyDescriptor(source, property);\n\t\t\tif (propertyDescriptor) {\n\t\t\t\tObject.defineProperty(clone, property, propertyDescriptor);\n\t\t\t}\n\t\t\t(clone as any)[property] = (source as any)[property];\n\t\t});\n\t}\n\n\treturn clone;\n}\n","import { Tile } from '../model';\n\nexport const tiles: Tile[] = [\n\t{ type: 'red', x: 19.3, y: 84.6 },\n\t{ type: 'purple', x: 23, y: 83 },\n\t{ type: 'yellow', x: 26, y: 80 },\n\t{ type: 'blue', x: 29, y: 78 },\n\t{ type: 'orange', x: 32.5, y: 76.3 },\n\t{ type: 'green', x: 36, y: 75.5 },\n\t{ type: 'red', x: 40, y: 75.8 },\n\t{ type: 'purple', x: 43, y: 77 },\n\t{ type: 'candy-heart', x: 46.4, y: 79 },\n\t{ type: 'yellow', x: 49.5, y: 81.6 },\n\t{ type: 'blue', x: 53, y: 84 },\n\t{ type: 'orange', x: 56, y: 85.5 },\n\t{ type: 'green', x: 59.8, y: 87 },\n\t{ type: 'red', x: 63.3, y: 87.2 },\n\t{ type: 'purple', x: 67, y: 87.5 },\n\t{ type: 'yellow', x: 70.5, y: 87.5 },\n\t{ type: 'blue', x: 74.3, y: 87.5 },\n\t{ type: 'candy-cane', x: 78, y: 86.5 },\n\t{ type: 'orange', x: 80, y: 83.5 },\n\t{ type: 'green', x: 80, y: 78.5 },\n\t{ type: 'red', x: 77.3, y: 75.5 },\n\t{ type: 'purple', x: 74, y: 74.8 },\n\t{ type: 'yellow', x: 70.5, y: 75 },\n\t{ type: 'blue', x: 67, y: 75 },\n\t{ type: 'orange', x: 63, y: 76 },\n\t{ type: 'green', x: 59.5, y: 76.3 },\n\t{ type: 'red', x: 56, y: 76 },\n\t{ type: 'purple', x: 52.5, y: 74.6 },\n\t{ type: 'yellow', x: 50, y: 72 },\n\t{ type: 'blue', x: 49.5, y: 67.5 },\n\t{ type: 'orange', x: 51, y: 63.7 },\n\t{ type: 'green', x: 54.5, y: 61.5 },\n\t{ type: 'red', x: 58, y: 61.8 },\n\t{ type: 'purple', x: 61.4, y: 63.2 },\n\t{ type: 'yellow', x: 65, y: 65.2 },\n\t{ type: 'blue', x: 68.2, y: 67 },\n\t{ type: 'orange', x: 72, y: 68 },\n\t{ type: 'green', x: 75, y: 69 },\n\t{ type: 'red', x: 79, y: 71 },\n\t{ type: 'purple', x: 83, y: 71 },\n\t{ type: 'yellow', x: 86.3, y: 70.3 },\n\t{ type: 'blue', x: 89.3, y: 68.2 },\n\t{ type: 'orange', x: 90.9, y: 64.4 },\n\t{ type: 'green', x: 91.1, y: 59.9 },\n\t{ type: 'red', x: 89.9, y: 55.50 },\n\t{ type: 'purple', x: 87.1, y: 52.3 },\n\t{ type: 'yellow', x: 83.5, y: 51.3 },\n\t{ type: 'blue', x: 80.3, y: 52 },\n\t{ type: 'gumdrop', x: 76.8, y: 53.4 },\n\t{ type: 'orange', x: 73.4, y: 55 },\n\t{ type: 'green', x: 69.7, y: 56.8 },\n\t{ type: 'red', x: 66.22, y: 57.5 },\n\t{ type: 'purple', x: 62.8, y: 57 },\n\t{ type: 'yellow', x: 59.2, y: 55.6 },\n\t{ type: 'blue', x: 55.8, y: 53.6 },\n\t{ type: 'orange', x: 52.2, y: 52.2 },\n\t{ type: 'green', x: 48.5, y: 52.3 },\n\t{ type: 'red', x: 45.1, y: 53.9 },\n\t{ type: 'purple', x: 42.2, y: 56.7 },\n\t{ type: 'yellow', x: 39, y: 59.4 },\n\t{ type: 'blue', x: 36, y: 61.9 },\n\t{ type: 'orange', x: 32.8, y: 63.7 },\n\t{ type: 'green', x: 29.3, y: 65 },\n\t{ type: 'red', x: 25.8, y: 66.2 },\n\t{ type: 'purple', x: 22.3, y: 67.1 },\n\t{ type: 'yellow', x: 18.7, y: 67.6 },\n\t{ type: 'blue', x: 15, y: 67.6 },\n\t{ type: 'orange', x: 11.6, y: 66.1 },\n\t{ type: 'green', x: 9.7, y: 62.8 },\n\t{ type: 'red', x: 9.4, y: 58.4 },\n\t{ type: 'purple', x: 11.4, y: 54.6 },\n\t{ type: 'yellow', x: 14.5, y: 52.9 },\n\t{ type: 'blue', x: 18.3, y: 53.2 },\n\t{ type: 'orange', x: 21.4, y: 54.1 },\n\t{ type: 'green', x: 24.9, y: 55.7 },\n\t{ type: 'red', x: 28.6, y: 56.2 },\n\t{ type: 'purple', x: 31.7, y: 54.8 },\n\t{ type: 'yellow', x: 32, y: 50.4 },\n\t{ type: 'blue', x: 29, y: 48.7 },\n\t{ type: 'orange', x: 25.5, y: 47.5 },\n\t{ type: 'peanut-brittle', x: 22.6, y: 45.2 },\n\t{ type: 'green', x: 21.3, y: 41.8 },\n\t{ type: 'red', x: 22.27, y: 37.7 },\n\t{ type: 'purple', x: 25.3, y: 36.2 },\n\t{ type: 'yellow', x: 29, y: 36.9 },\n\t{ type: 'blue', x: 32.6, y: 38.6 },\n\t{ type: 'orange', x: 36.2, y: 40 },\n\t{ type: 'green', x: 39.7, y: 41.6 },\n\t{ type: 'red', x: 43.1, y: 43.1 },\n\t{ type: 'purple', x: 46.5, y: 44.5 },\n\t{ type: 'yellow', x: 50.2, y: 45.7 },\n\t{ type: 'blue', x: 53.8, y: 46.7 },\n\t{ type: 'orange', x: 57.4, y: 47 },\n\t{ type: 'green', x: 61.2, y: 47.3 },\n\t{ type: 'red', x: 65, y: 47.5 },\n\t{ type: 'sucker', x: 68.6, y: 47.5 },\n\t{ type: 'purple', x: 72.3, y: 46.9 },\n\t{ type: 'yellow', x: 75.8, y: 45.8 },\n\t{ type: 'blue', x: 79.2, y: 44.1 },\n\t{ type: 'orange', x: 81.8, y: 41.3 },\n\t{ type: 'green', x: 83.2, y: 37.2 },\n\t{ type: 'red', x: 82.2, y: 32.7 },\n\t{ type: 'purple', x: 79.1, y: 30.2 },\n\t{ type: 'ice-cream', x: 75.8, y: 28.4 },\n\t{ type: 'yellow', x: 73.6, y: 24.6 },\n\t{ type: 'blue', x: 70.6, y: 21.7 },\n\t{ type: 'orange', x: 67.1, y: 22.2 },\n\t{ type: 'green', x: 64.1, y: 25.4 },\n\t{ type: 'red', x: 61.7, y: 29 },\n\t{ type: 'purple', x: 59, y: 31.9 },\n\t{ type: 'yellow', x: 55.7, y: 33.8 },\n\t{ type: 'blue', x: 52.1, y: 34.3 },\n\t{ type: 'orange', x: 48.5, y: 33.7 },\n\t{ type: 'green', x: 45.1, y: 32 },\n\t{ type: 'red', x: 41.7, y: 30.2 },\n\t{ type: 'purple', x: 38, y: 29.4 },\n\t{ type: 'yellow', x: 34.4, y: 29.2 },\n\t{ type: 'blue', x: 30.7, y: 29.7 },\n\t{ type: 'orange', x: 27, y: 30.2 },\n\t{ type: 'green', x: 23.4, y: 30 },\n\t{ type: 'red', x: 20, y: 28.5 },\n\t{ type: 'purple', x: 17.9, y: 25.1 },\n\t{ type: 'yellow', x: 17, y: 20.8 },\n\t{ type: 'blue', x: 17.8, y: 16.4 },\n\t{ type: 'orange', x: 20.6, y: 13.4 },\n\t{ type: 'green', x: 24.3, y: 13 },\n\t{ type: 'red', x: 27.7, y: 14.5 },\n\t{ type: 'purple', x: 30.7, y: 17 },\n\t{ type: 'yellow', x: 33.8, y: 19.8 },\n\t{ type: 'rainbow', x: 36.9, y: 22.2 }\n];","import { Tile } from '../model';\nimport { tiles } from './Tiles';\n\nexport const bridges: Map<Tile, Tile> = new Map([\n\t[ tiles[4], tiles[62] ],\n\t[ tiles[38], tiles[49] ]\n]);\n","import { CharacterTile, ColorTile } from '../model';\n\nexport const characterCards: CharacterTile[] = [ 'candy-cane', 'candy-heart', 'gumdrop', 'ice-cream', 'peanut-brittle', 'sucker' ];\n\nexport const colorCards: ColorTile[] = [ 'blue', 'green', 'orange', 'purple', 'red', 'yellow' ];\n\nexport const colorCardsCount = colorCards.length * 8;\n\nexport const doubleColorCardsCount = colorCards.length * 2;\n\nexport const totalCardsCount = colorCardsCount + doubleColorCardsCount + characterCards.length;\n","import { Tile } from '../model';\nimport { tiles } from './Tiles';\n\nexport const dotTiles: Set<Tile> = new Set([\n\ttiles[53],\n\ttiles[85],\n\ttiles[120]\n]);\n","import { PlayerOption } from '../model';\n\nexport const maxPlayers = 4;\n\nexport const minPlayers = 2;\n\nexport const playerOptions: PlayerOption[] = [ 'Pink', 'Blue', 'Orange', 'Purple' ].map(color => ({\n\tname: color,\n\tvalue: `Player-${color.toLowerCase()}`\n}));\n","import {\n\tbridges,\n\tcharacterCards,\n\tcolorCards,\n\tcolorCardsCount,\n\tdotTiles,\n\tdoubleColorCardsCount,\n\tmaxPlayers,\n\tplayerOptions,\n\ttiles\n} from '../data';\nimport { CardType, GameSave, Player, PlayerOption, Tile, TileType } from '../model';\nimport { range, shuffle, wait, Subject } from '../lib';\n\nexport class GameService {\n\t/** Save containing the current game state. */\n\treadonly save = new Subject<GameSave>(GameService.createNewSave());\n\n\t/** Reset @see save to a new game. */\n\tstartNewGame(): void {\n\t\tthis.save.next(GameService.createNewSave());\n\t}\n\n\t/** Have the current player take a turn. */\n\ttakeTurn(): void {\n\t\tlet currentSave = { ...this.save.value };\n\t\tconst { players, turn } = currentSave;\n\t\tconst player = players[turn];\n\t\tcurrentSave = GameService.drawCard(currentSave);\n\t\tconst card = currentSave.lastCard!;\n\t\tconst isDouble = card.startsWith('2_');\n\t\tconst color = card.replace(/^2_/, '') as TileType;\n\n\t\tconst currentPlayerTile = tiles[player.position];\n\t\tlet tilesToSearch: Tile[];\n\t\tif ((characterCards as CardType[]).includes(card)) {\n\t\t\ttilesToSearch = tiles;\n\t\t} else {\n\t\t\ttilesToSearch = tiles.slice(tiles.indexOf(currentPlayerTile) + 1);\n\t\t}\n\n\t\tlet tile: Tile | undefined;\n\t\tif (dotTiles.has(currentPlayerTile) && currentPlayerTile.type !== color) {\n\t\t\t// keep player where they are if they do not draw the correct color for a dot tile\n\t\t\ttile = currentPlayerTile;\n\t\t} else {\n\t\t\ttile = GameService.getNextTile(tilesToSearch, color);\n\t\t\tif (tile && isDouble) {\n\t\t\t\ttile = GameService.getNextTile(tiles.slice(tiles.indexOf(tile) + 1), color);\n\t\t\t}\n\t\t}\n\n\t\tconst newPosition = tiles.indexOf(tile!);\n\t\tlet path = range(newPosition, player.position);\n\n\t\tif (tile && bridges.has(tile)) {\n\t\t\ttile = bridges.get(tile);\n\t\t\tpath = [ tiles.indexOf(tile!), ...path];\n\t\t} else if (!tile) {\n\t\t\t// if no tile is found, then the player is at the end which is a rainbow tile\n\t\t\ttile = tiles[tiles.length - 1];\n\t\t\tpath = range(tiles.length, player.position);\n\t\t}\n\n\t\tcurrentSave.lastCard = card;\n\t\tif (tile === tiles[tiles.length - 1]) {\n\t\t\tcurrentSave.state = 'complete';\n\t\t} else {\n\t\t\tcurrentSave.turn = (turn + 1) % players.length;\n\t\t}\n\n\t\tthis.save.next(currentSave);\n\t\tthis.animateToTile(turn, path, newPosition < player.position);\n\t}\n\n\t/** Creates a new player from a player option. */\n\tpublic static createPlayer({ name, value }: PlayerOption): Player {\n\t\treturn {\n\t\t\tbackwards: false,\n\t\t\tclassName: value,\n\t\t\tid: value,\n\t\t\tname: name.substring(0, 1).toUpperCase() + name.substring(1),\n\t\t\tposition: 0\n\t\t};\n\t}\n\n\tprotected async animateToTile(playerIndex: number, path: number[], backwards: boolean): Promise<void> {\n\t\twhile (path.length) {\n\t\t\tconst save = { ...this.save.value };\n\t\t\tsave.players = save.players.slice();\n\t\t\tsave.players[playerIndex] = { ...save.players[playerIndex] };\n\t\t\tconst player = save.players[playerIndex];\n\t\t\tplayer.position = path.pop()!;\n\n\t\t\tconst lastMove = !path.length;\n\t\t\tplayer.backwards = !lastMove && backwards;\n\t\t\tthis.save.next(save);\n\n\t\t\tif (!lastMove) {\n\t\t\t\tawait wait(300);\n\t\t\t}\n\t\t}\n\t}\n\n\t/** Create a new shuffled deck. */\n\tprotected static createDeck(): CardType[] {\n\t\tconst deck = ([] as CardType[]).concat(\n\t\t\t// color cards\n\t\t\trange(colorCardsCount).map(i => colorCards[i % colorCards.length]),\n\t\t\t// double color cards\n\t\t\trange(doubleColorCardsCount).map(i => '2_' + colorCards[i % colorCards.length] as CardType),\n\t\t\tcharacterCards\n\t\t);\n\n\t\treturn shuffle(deck);\n\t}\n\n\t/** Create a new save. */\n\tprotected static createNewSave(): GameSave {\n\t\treturn ({\n\t\t\tdeck: this.createDeck(),\n\t\t\tlastCard: null,\n\t\t\tplayers: playerOptions.slice(0, maxPlayers).map(this.createPlayer),\n\t\t\tstate: 'new',\n\t\t\tturn: 0\n\t\t});\n\t}\n\n\t/** Draw the card at the top of the deck. */\n\tprotected static drawCard(currentSave: GameSave): GameSave {\n\t\tconst save = { ...currentSave };\n\t\tconst deck = (save.deck.length) ? save.deck : this.createDeck();\n\t\tsave.lastCard = deck[0];\n\t\tsave.deck = deck.slice(1);\n\n\t\treturn save;\n\t}\n\n\t/** Gets the first tile from @see tiles of the requested @type. */\n\tprotected static getNextTile(tiles: Tile[], type: TileType) {\n\t\treturn tiles.find(tile => tile.type === type);\n\t}\n}\n","import { createContext } from 'react';\nimport { GameService } from './services';\n\nexport interface AppContextType {\n\tgameService: GameService;\n}\n\nexport function createAppContext(): AppContextType {\n\treturn {\n\t\tgameService: new GameService()\n\t};\n}\n\nexport const defaultAppContext = createAppContext();\n\nexport const AppContext = createContext<AppContextType>(defaultAppContext);\n","import React, { useContext } from 'react';\nimport { useSubject } from './lib';\nimport { AppContext } from './AppContext';\nimport './Deck.scss';\n\nexport const Deck: React.FC = () => {\n\tconst { gameService } = useContext(AppContext);\n\tconst [ lastCard ] = useSubject(gameService.save, s => s.lastCard);\n\n\treturn <div className=\"Deck\">\n\t\t<button className=\"Deck-pile Deck-draw-pile\" onClick={() => gameService.takeTurn()}></button>\n\t\t<div className={'Deck-pile Deck-discard-pile' + (lastCard ? ` Deck-discard-pile--${lastCard}` : '')}></div>\n\t</div>;\n};\n","import React from 'react';\nimport './Dialog.scss';\n\nexport interface DialogProps {\n\tcontent: JSX.Element;\n}\n\nexport const Dialog: React.FC<DialogProps> = ({ content }) => (\n\t<div className=\"Dialog-background\">\n\t\t<div className=\"Dialog-foreground\">\n\t\t\t{content}\n\t\t</div>\n\t</div>\n);\n","import React, { useContext } from 'react';\nimport { AppContext } from './AppContext'\nimport { Dialog } from './Dialog';\nimport { useSubject } from './lib';\nimport './EndGame.scss';\n\nexport const EndGame: React.FC = () => {\n\tconst { gameService } = useContext(AppContext);\n\tconst [ { players, state, turn } ] = useSubject(gameService.save);\n\n\treturn (state !== 'complete') ? null : <Dialog content={\n\t\t<div className=\"EndGame\">\n\t\t\t<h2 className=\"EndGame-title\">\n\t\t\t\tCongratulations {players[turn].name}!\n\t\t\t</h2>\n\t\t\t<div className=\"EndGame-actions\">\n\t\t\t\t<button onClick={() => gameService.startNewGame()} type=\"button\">Play Again?</button>\n\t\t\t</div>\n\t\t</div>\n\t} />;\n}","import React, { useContext } from 'react';\nimport { AppContext } from './AppContext';\nimport { tiles } from './data';\nimport { useSubject } from './lib';\nimport './Players.scss';\n\nexport const Players: React.FC = () => {\n\tconst { save } = useContext(AppContext).gameService;\n\tconst [ { players, turn } ] = useSubject(save);\n\n\t// render current player last\n\tconst orderedPlayers = players.slice(turn + 1).concat(players.slice(0, turn + 1));\n\n\treturn <>{\n\t\torderedPlayers.map(p => {\n\t\t\tconst { x, y } = tiles[p.position];\n\t\t\tconst nextTile = tiles[p.position + 1];\n\t\t\tlet className = `Player ${p.className}`;\n\n\t\t\tif (p.backwards !== (nextTile?.x < x)) {\n\t\t\t\tclassName += ' Flip';\n\t\t\t}\n\n\t\t\treturn <div\n\t\t\t\tclassName={className}\n\t\t\t\tkey={p.id}\n\t\t\t\tstyle={{\n\t\t\t\t\tleft: `${x}%`,\n\t\t\t\t\ttop: `${y}%`\n\t\t\t\t}}\n\t\t\t></div>;\n\t\t})\n\t}</>;\n}\n","import React, { useContext } from 'react';\nimport { maxPlayers, minPlayers, playerOptions } from './data';\nimport { useSubject } from './lib';\nimport { Player } from './model';\nimport { AppContext } from './AppContext';\nimport { Dialog } from './Dialog';\nimport { GameService } from './services';\nimport './PlayerPicker.scss';\n\nexport const PlayerPicker: React.FC = () => {\n\tconst { save } = useContext(AppContext).gameService;\n\tconst [ players, setPlayers ] = useSubject(save, s => s.players);\n\tconst [ gameState, setGameState ] = useSubject(save, s => s.state);\n\tconst setPlayer = (partialPlayer: Partial<Player>, playerIndex: number) => {\n\t\tsetPlayers(players.map((p, i) => (i === playerIndex) ? { ...p, ...partialPlayer } : p));\n\t};\n\n\treturn (gameState !== 'new') ? null : <Dialog content={\n\t\t<div className=\"PlayerPicker\">\n\t\t\t<h2 className=\"PlayerPicker-title\">Select Players</h2>\n\t\t\t<div className=\"PlayerPicker-content\">\n\t\t\t\t{players.map((player, playerIndex) =>\n\t\t\t\t\t<div className=\"PlayerPicker-player-row\" key={playerIndex}>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tonChange={event => setPlayer({ className: event.currentTarget.value }, playerIndex)}\n\t\t\t\t\t\t\tvalue={player.className}\n\t\t\t\t\t\t>{playerOptions.map(playerOption =>\n\t\t\t\t\t\t\t<option key={playerOption.value} value={playerOption.value}>{playerOption.name}</option>\n\t\t\t\t\t\t)}</select>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tonChange={e => setPlayer({ name: e.currentTarget.value }, playerIndex)}\n\t\t\t\t\t\t\tvalue={player.name}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t(players.length <= minPlayers) ? null : <button\n\t\t\t\t\t\t\t\tclassName=\"PlayerPicker-remove-button\"\n\t\t\t\t\t\t\t\tonClick={() => setPlayers(\n\t\t\t\t\t\t\t\t\tplayers.slice(0, playerIndex).concat(players.slice(playerIndex + 1))\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t>-</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{\n\t\t\t\t\t(players.length >= maxPlayers) ? null : <button\n\t\t\t\t\t\tclassName=\"PlayerPicker-add-button\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tconst playerOption = (\n\t\t\t\t\t\t\t\tplayerOptions.find(o => players.every(p => p.className !== o.value))\n\t\t\t\t\t\t\t\t|| playerOptions[0]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetPlayers(players.concat(GameService.createPlayer(playerOption)));\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>+</button>\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<div className=\"PlayerPicker-actions\">\n\t\t\t\t<button onClick={() => setGameState('in-progress')} type=\"button\">Start</button>\n\t\t\t</div>\n\t\t</div>\n\t} />;\n};\n","import React, { useContext } from 'react';\nimport { AppContext } from './AppContext';\nimport { useSubject } from './lib';\nimport './TurnDisplay.scss';\n\nexport const TurnDisplay: React.FC = () => {\n\tconst { save } = useContext(AppContext).gameService;\n\tconst [ { players, turn } ] = useSubject(save);\n\n\treturn <div className=\"TurnDisplay\">{players[turn].name}'s Turn</div>;\n};","import React from 'react';\nimport { Deck } from './Deck';\nimport { EndGame } from './EndGame';\nimport { Players } from './Players';\nimport { PlayerPicker } from './PlayerPicker';\nimport { TurnDisplay } from './TurnDisplay';\nimport './App.scss';\n\nexport const App: React.FC = () => (\n\t<div className=\"App\">\n\t\t<PlayerPicker />\n\t\t<EndGame />\n\t\t<div className=\"App-TopContent\">\n\t\t\t<TurnDisplay />\n\t\t\t<Deck />\n\t\t</div>\n\t\t<div className=\"App-BoardArea\">\n\t\t\t<div className=\"App-Board\">\n\t\t\t\t<Players />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}